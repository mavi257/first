<!DOCTYPE html>
<html>
<meta charset='utf-8'>
<head>  <script src="https://code.getmdl.io/1.1.2/material.min.js"></script>
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.2/material.indigo-pink.min.css">
    <!-- Material Design icon font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="/test/dialog-polyfill.js"></script>
<link rel="stylesheet" type="text/css" href="/test/dialog-polyfill.css">
</head>
<body>
<p>Test that dialog is centered in the viewport. The test passes if you see a
box in the center of the screen.</p>
<div id="console"></div>
<dialog>Hello</dialog>
<script>
function writeToConsole(s) {
  var console = document.getElementById('console');
  var span = document.createElement('span');
  span.textContent = s;
  console.appendChild(span);
  console.appendChild(document.createElement('br'));
}

function checkCentered(dialog) {
  var expectedTop = (window.innerHeight - dialog.offsetHeight) / 2;
  var expectedLeft = (window.innerWidth - dialog.offsetWidth) / 2;
  var rect = dialog.getBoundingClientRect();
  if (rect.top == expectedTop && rect.left == expectedLeft) {
    writeToConsole('SUCCESS');
  } else {
    writeToConsole('FAIL: expected dialog top,left to be ' +
        expectedTop + ',' + expectedLeft + ' and was actually ' +
        rect.top + ',' + rect.left);
  }
}

var dialog = document.querySelector('dialog');
dialogPolyfill.registerDialog(dialog);
dialog.show();
checkCentered(dialog);
</script>
</body>
</html>
